<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="container-fluid container-fluid-custom py-md-5 mb-7">
        <main>
             <div class="row py-md-5 text-center justify-content-center">
    
                <div class="col-md-12 col-lg-6 mb-2 mb-md-0">
                    <h1 class="display-8 fw-bold mb-4  position-relative home-title">
                        Contact us
                    </h1>
                        <form action="" class="contact-form" name="otp" >
                            <div class="form-group">
                                <label for="" class="form-label ">From</label>
                                <input type="email" name="from" class="form-control" id="email" placeholder="name@example.com" autocomplete="off">
                            </div>
                            
                            <!--<div class="form-group">
                                <label for="to" class="form-label">TI:</label>
                                <input type="email" name="to" class="form-control" id="to">
                            </div>-->
                            
                            <div class="form-group">
                                <label for="subject" class="form-label">Subject:</label>
                                <input type="text" class="form-control" name="subject" id="subject" autocomplete="off">
                            </div>
                            
                            <label for="message" class="form-label">Message:</label>
                            <textarea name="message" id="message" class="form-control mb-4" cols="30" rows="10" autocomplete="off"></textarea>
    
                            <input type="submit" value="send" class="btn btn-primary mb-5">
                        </form>
                    <a href="/" class="btn btn-primary btnlg">go back to home </a>
                </div>
             </div>
             <script>
                const contactForm = document.querySelector('.contact-form');
                let email =document.getElementById('email');
                let subject =document.getElementById('subject');
                let message = document.getElementById('message')
                contactForm.addEventListener('submit', (e)=>{
                         e.preventDefault();
                        let formData = {
                            email: email.value,
                            subject: subject.value,
                            message: message.value
                        }
                        let xhr = new XMLHttpRequest();
                        xhr.open('POST','/');
                        xhr.setRequestHeader('content-type', 'application/json');
                        xhr.onload = function(){
                              console.log(xhr.responseText); 
                              if(xhr.responseText == 'success'){
                                alert('Email sent');
                                
                                email.value = '';
                                subject.value = '';
                                message.value = '';
                              }else{
                                alert('something went rong')
                              }
                        }
    
                        xhr.send(JSON.stringify(formData));
                })  
             </script>
        </main>
    </div>
</body>
</html>

